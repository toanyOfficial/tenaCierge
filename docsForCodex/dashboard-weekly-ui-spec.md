# 대시보드 - 주간업무 UI 용어 및 전환 규칙

주간업무 화면은 다섯 가지 공식 용어(상단 합계표, D0-dominant, D0-compact, D1-dominant, D1-compact)로 구분하며, 시각(15:30)과 토글 동작에 따라 배치가 전환된다.

## 공식 레이아웃 용어

### 상단 합계표
- **역할**: 요일/일자별 전체 물량과 신청 상태를 한눈에 보여주는 최상단 요약 그리드.
- **데이터·갱신**: 배치/신청 스냅샷을 09:00, 15:00, 16:30에 집계하며 실시간 수치는 없다.
- **디자인**: 시간대에 따른 배치 변화 없이 고정 표 형태를 유지하며 상태별 색상만 갱신된다.

### D0-dominant
- **역할**: 당일(D0) 진행 현황을 넓게 보여주는 기본 뷰. 섹터·건물·호실 단계(배정/담당/청소/검수)를 상세 모니터링한다.
- **데이터·갱신**: 실시간 요청과 정시 스냅샷을 병행한다.
- **디자인**: 넓은 영역을 차지하며 스택형 진행 바, 호실 그리드(36개 단위), 상태 버튼을 포함한다. 오버플로우 시 자동 페이징·순환을 적용한다.

### D0-compact
- **역할**: D0 진행을 텍스트 중심으로 압축 노출하는 보조 뷰. 현재 진행 중 호실을 리스트로 순환 표시한다.
- **데이터·갱신**: D0-dominant와 동일 데이터 소스/주기를 사용한다.
- **디자인**: 컨테이너 높이에 맞춰 행 수를 계산하고 1분 간격으로 자동 순환한다. 진행 중 호실이 없으면 종료 메시지를 노출한다.

### D1-dominant
- **역할**: 익일(D1) 준비 현황을 넓게 보여주는 기본 뷰. 미래 시점이므로 완료·진행률 개념 없이 준비 물량과 슬롯 배치를 나열한다.
- **데이터·갱신**: 09:00, 15:00, 16:30에 집계한 스냅샷을 사용한다.
- **디자인**: 섹터별 카드 3개를 **1row × 3col** 그리드로 배치해 높이 100%를 차지한다(물량이 없어도 1×3 유지). 카드에는 총 물량과 건물별 박스 안의 체크아웃 시각별 건수, Role별 apply 슬롯(슬롯 번호 기준, 팀 호칭 금지)을 표시하며, 미배정 슬롯 텍스트는 **red**로 노출한다. 건물 블록은 한 줄씩 세로로 나열하고, 영역 제목만 노출(추가 설명 문구 제거)하되 건물/체크아웃 영역과 역할별 슬롯 영역은 색상·분리 바를 달리해 서로 구분한다.
- **빈 섹터 처리**: 내일자 work 건수가 0인 섹터는 카드 중앙에 **“내일은 업무가 없습니다.”** 메시지를 노출한다.
- **슬롯 표기**: apply 슬롯은 사람 단위이며 `슬롯 N`으로 지칭한다. Role 구분은 필수로 함께 노출하며 Role 1=클리너, Role 2=버틀러로 표기한다.

### D1-compact
- **역할**: D1 정보를 섹터·건물·체크아웃 시각 중심으로 압축 표시하는 보조 뷰.
- **데이터·갱신**: D1-dominant와 동일 스냅샷을 공유한다.
- **디자인**: 공간 제약에 맞춰 요약 라인/테이블 형태로 노출하며 자동 순환 페이징을 지원한다.

## 15:30 이전 기본 화면 구성
- 기본 레이아웃 모드: **today-dominant** → 화면 중앙/우측을 **D0-dominant**가 넓게 차지하고, **D1-compact**는 보조 영역(2:8 정도 비중)으로 축소 노출된다.
- **상단 합계표**는 시간대와 무관하게 항상 동일 위치에 노출된다.
- 시간 동기화: 1분 간격으로 현재 시각을 확인해 전환 조건을 모니터링한다.

## 15:30 이후 기본 화면 구성
- 기본 레이아웃 모드: **tomorrow-dominant** → 화면 중앙/우측을 **D1-dominant**가 넓게 차지하고, **D0-compact**는 보조 영역으로 축소 노출된다.
- 자동 전환: 15:30 도달 시 today-dominant에서 tomorrow-dominant로 전환한다(1분 주기 확인). 전환 시 D1 목록/페이징은 초기화된다.
- **상단 합계표**는 그대로 유지되며 시각별 집계만 갱신된다.

## 레이아웃 토글 버튼 동작
- 위치/형태: 화면 하단의 원형 토글 버튼(↔)을 클릭해 레이아웃을 수동 전환한다.
- 기능: 현재 모드와 반대 조합으로 즉시 바꾸어 **D0-dominant ↔ D1-dominant**와 대응하는 compact 뷰를 스왑한다.
- 수동 유지: 토글 클릭 시점부터 **5분 동안** 자동 전환이 일시 중지되어 사용자가 선택한 모드가 유지된다. 이후에는 시각 기반 규칙(15:30 기준)이 다시 적용된다.
- 초기화 효과: tomorrow-dominant로 진입할 때 compact 리스트의 페이지와 섹터 페이징을 0페이지로 리셋하고, 높이에 맞춰 행 수를 재계산한다.
